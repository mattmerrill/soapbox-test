(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{337:function(t,e,n){var content=n(354);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("28f2ac51",content,!0,{sourceMap:!1})},345:function(t,e,n){"use strict";n.r(e);n(7),n(10),n(8),n(13),n(14),n(11),n(9);var o=n(2),r=n(107),c=n(346),d=n(347);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={components:{VideoPlayer:c.default,VideoTimeline:d.default},props:["src"],data:function(){return{expand:!1}},computed:v(v({},Object(r.b)("video",["edits","video"])),{},{jsonifiedEvents:function(){return JSON.stringify(this.edits,null,2)}})},m=n(82),y=n(116),h=n.n(y),x=n(223),E=n(341),O=n(336),_=n(399),w=n(168),V=n(400),j=n(401),component=Object(m.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"video-editor"},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("\n      Edit your video\n      "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{small:""},on:{click:function(e){t.expand=!t.expand}}},[t._v("Toggle edits")])],1),t._v(" "),n("v-card-text",[n("video-player",{attrs:{poster:""}},[n("source",{attrs:{src:t.src,type:"video/mp4"}})]),t._v(" "),n("video-timeline",{attrs:{edits:t.edits,duration:t.video.duration}})],1),t._v(" "),n("v-expand-transition",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.expand,expression:"expand"}]},[n("v-divider"),t._v(" "),n("v-textarea",{attrs:{value:t.jsonifiedEvents}})],1)])],1)],1)}),[],!1,null,null,null);e.default=component.exports;h()(component,{VideoPlayer:n(346).default,VideoTimeline:n(347).default}),h()(component,{VBtn:x.a,VCard:E.a,VCardText:O.b,VCardTitle:O.c,VDivider:_.a,VExpandTransition:w.a,VSpacer:V.a,VTextarea:j.a})},346:function(t,e,n){"use strict";n.r(e);var o=n(352),r=n.n(o),c={props:["poster"],data:function(){return{plyr:null}},mounted:function(){var t=this;this.$nextTick((function(){var e=new r.a(t.$refs.plyr);e.on("ready",(function(e){t.plyr=e.detail.plyr})),e.on("loadedmetadata",(function(e){t.$store.dispatch("video/setVideo",{duration:t.plyr.duration})}))})),this.$nuxt.$on("player:seek",(function(e){t.plyr.restart(),t.plyr.forward(parseInt(e))}))}},d=n(82),component=Object(d.a)(c,(function(){var t=this.$createElement;return(this._self._c||t)("video",{ref:"plyr",attrs:{"plays-inline":"",controls:"","data-poster":this.poster}},[this._t("default")],2)}),[],!1,null,null,null);e.default=component.exports},347:function(t,e,n){"use strict";n.r(e);n(7),n(29),n(10),n(8),n(165),n(13),n(14),n(11),n(9);var o=n(2),r=n(320);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var d={props:["edits","duration"],data:function(){return{timestampVisible:!1,shownTime:"00:00",tooltipPlacement:0,modifyEditMenu:!1,modifyMenuX:0,modifyMenuY:0,activeEdit:null}},methods:{add:function(t){var e=this,n=t.offsetX/t.target.clientWidth,o=(this.duration*n).toFixed(2),c=Object(r.a)();this.$store.dispatch("video/addEdit",{id:c,start:o}),this.$nextTick((function(){e.modifyEdit(e.edits[c],t)})),this.$nuxt.$emit("player:seek",o)},showTime:function(t){var e;"timeline"==t.target.className?(e=t.offsetX/t.target.clientWidth,this.tooltipPlacement=t.offsetX):(e=(t.offsetX+t.target.offsetLeft)/t.target.parentNode.clientWidth,this.tooltipPlacement=t.offsetX+t.target.offsetLeft);var n=(this.duration*e).toFixed(2);this.shownTime=this.secondsToTime(n)},secondsToTime:function(time){var t=Math.floor(time/60),e=(time-60*t).toFixed(2);return t<10&&(t="0".concat(t)),e<10&&(e="0".concat(e)),"".concat(t,":").concat(e)},editStyles:function(t){var e={left:this.getPosition(t.start)+"%"};if("cut"===t.type&&void 0!==t.end){var n=this.$refs.timeline.offsetWidth/this.duration;e.width=((t.end-t.start)*n).toFixed(2)+"px"}return e},getPosition:function(t){return(t/this.duration*100).toFixed(2)},modifyEdit:function(t,e){this.modifyEditMenu=!0,this.activeEdit=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},t),this.modifyMenuX=e.clientX,this.modifyMenuY=e.clientY},removeEdit:function(t){this.$store.dispatch("video/removeEdit",t),this.clearEditForm()},cancelModify:function(){this.clearEditForm()},saveModify:function(){this.$store.dispatch("video/updateEdit",this.activeEdit),this.clearEditForm()},clearEditForm:function(){this.activeEdit=null,this.modifyEditMenu=!1}}},l=(n(353),n(82)),v=n(116),f=n.n(v),m=n(223),y=n(406),h=n(341),x=n(336),E=n(160),O=n(405),_=n(396),w=n(397),V=n(386),j=n(398),component=Object(l.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"video-timeline"},[n("v-tooltip",{attrs:{top:"",absolute:"",attach:".video-timeline","nudge-bottom":74,"nudge-right":t.tooltipPlacement},model:{value:t.timestampVisible,callback:function(e){t.timestampVisible=e},expression:"timestampVisible"}},[t._v("\n    "+t._s(t.shownTime)+"\n  ")]),t._v(" "),n("div",{ref:"timeline",staticClass:"timeline",on:{click:t.add,mousemove:t.showTime,mouseenter:function(e){t.timestampVisible=!0},mouseleave:function(e){t.timestampVisible=!1}}},t._l(t.edits,(function(e){return n("div",{key:e.id,staticClass:"edit",style:t.editStyles(e),on:{click:function(n){return n.stopPropagation(),t.modifyEdit(e,n)}}})})),0),t._v(" "),n("v-menu",{attrs:{"nudge-width":200,"close-on-content-click":!1,absolute:"","position-x":t.modifyMenuX,"position-y":t.modifyMenuY},model:{value:t.modifyEditMenu,callback:function(e){t.modifyEditMenu=e},expression:"modifyEditMenu"}},[t.modifyEditMenu?n("v-card",[n("v-card-text",[n("v-btn",{staticClass:"modify-remove-btn",attrs:{small:"",icon:"",title:"Remove edit"},on:{click:function(e){return t.removeEdit(t.activeEdit)}}},[n("v-icon",[t._v("mdi-delete")])],1),t._v(" "),n("v-btn-toggle",{attrs:{rounded:""},model:{value:t.activeEdit.type,callback:function(e){t.$set(t.activeEdit,"type",e)},expression:"activeEdit.type"}},[n("v-btn",{attrs:{icon:"",value:"scale",title:"Scale"}},[n("v-icon",[t._v("mdi-resize")])],1),t._v(" "),n("v-btn",{attrs:{icon:"",value:"cut",title:"Cut"}},[n("v-icon",[t._v("mdi-scissors-cutting")])],1)],1),t._v(" "),n("v-text-field",{staticStyle:{"margin-top":"15px"},attrs:{label:"Start",type:"number",min:"0",max:t.duration},model:{value:t.activeEdit.start,callback:function(e){t.$set(t.activeEdit,"start",e)},expression:"activeEdit.start"}}),t._v(" "),"cut"==t.activeEdit.type?n("v-text-field",{attrs:{type:"number",label:"End",min:t.activeEdit.start,max:t.duration},model:{value:t.activeEdit.end,callback:function(e){t.$set(t.activeEdit,"end",e)},expression:"activeEdit.end"}}):t._e(),t._v(" "),"scale"==t.activeEdit.type?[n("v-subheader",{staticStyle:{padding:"0"}},[t._v("Scale to:")]),t._v(" "),n("v-slider",{attrs:{"thumb-label":"",max:"200",min:"0"},model:{value:t.activeEdit.scale,callback:function(e){t.$set(t.activeEdit,"scale",e)},expression:"activeEdit.scale"}})]:t._e()],2),t._v(" "),n("v-card-actions",[n("v-btn",{attrs:{small:""},on:{click:t.cancelModify}},[t._v("cancel")]),t._v(" "),n("v-btn",{attrs:{small:"",color:"primary"},on:{click:t.saveModify}},[t._v("save")])],1)],1):t._e()],1)],1)}),[],!1,null,null,null);e.default=component.exports;f()(component,{VBtn:m.a,VBtnToggle:y.a,VCard:h.a,VCardActions:x.a,VCardText:x.b,VIcon:E.a,VMenu:O.a,VSlider:_.a,VSubheader:w.a,VTextField:V.a,VTooltip:j.a})},353:function(t,e,n){"use strict";var o=n(337);n.n(o).a},354:function(t,e,n){(e=n(15)(!1)).push([t.i,".video-timeline{position:relative}.video-timeline .timeline{position:relative;margin-top:15px;border-radius:5px;border:1px solid #fff;height:30px;cursor:pointer}.video-timeline .edit{position:absolute;height:50px;background:#1976d2;top:0;margin-top:-10px;min-width:7px;border-radius:3px}.video-timeline .edit:hover{background:#fff}.modify-remove-btn{position:absolute;top:15px;right:15px}",""]),t.exports=e},404:function(t,e,n){"use strict";n.r(e);var o={components:{VideoEditor:n(345).default},layout:"default"},r=n(82),c=n(116),d=n.n(c),l=n(402),v=n(403),component=Object(r.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-row",{attrs:{justify:"center",align:"center"}},[e("v-col",{attrs:{cols:"12"}},[e("video-editor",{attrs:{src:"https://embed-fastly.wistia.com/deliveries/70cebfa349c46348db0e3a0246b08bab0d03f0d4/Inclusivity.mp4"}})],1)],1)}),[],!1,null,null,null);e.default=component.exports;d()(component,{VideoEditor:n(345).default}),d()(component,{VCol:l.a,VRow:v.a})}}]);